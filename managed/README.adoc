// Copyright (c) Yugabyte, Inc.

= Yugaware Developer Documentation

== Building and running Yugaware locally

Pre-requisites - install sbt and MySQL:
[source,bash]
----
# On a mac, run the following:
$ brew install sbt
$ brew install mysql

# Make MySQL a daemon (restart on machine restart).
$ ln -sfv /usr/local/opt/mysql/*.plist ~/Library/LaunchAgents
$ launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist
----

Create the yugaware DB in MySQL:
[source,bash]
----
mysql -u root
mysql> create database yugaware
----

Needs AWS auth credentials to run.
[source,bash]
----
cat > ~/.sbt/.s3credential
accessKey = <user's access key>
secretKey = <user's secret key>
----

To compile and run the code:
[source,bash]
----
$ sbt run
----
Test that everything is running by going to http://localhost:9000 in a browser (or curl).

To compile and not run:
[source,bash]
----
$ sbt compile
----

To run the unit tests:
[source,bash]
----
$ sbt test
----

== Developing Yugaware in Eclipse

Eclipse can be used as an IDE for Yugaware. To generate Eclipse project files, do:

[source,bash]
----
# Create the sbt plugins directory for your local machine.
$ mkdir ~/.sbt/0.13/plugins/

# Create a file ~/.sbt/0.13/plugins/build.sbt with the contents shown below.
$ cat > ~/.sbt/0.13/plugins/build.sbt
resolvers += Classpaths.typesafeResolver
addSbtPlugin("com.typesafe.sbteclipse" % "sbteclipse-plugin" % "4.0.0")

# Install the plugin
$ cd ~/.sbt/0.13/plugins
$ sbt

# Go to the yugaware directory and create the eclipse project files.
$ cd yugaware
$ sbt eclipse

# Fix the classpath for eclipse.
bin/activator eclipse
----

Now there should be an Eclipse '.project' file generated. Go to Eclipse and import it using:
File -> Import -> General -> Existing Projects into Workspace
Hit next, and browse to the Yugaware source directory for the project to get imported.
