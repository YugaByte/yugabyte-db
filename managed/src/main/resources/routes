# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~


###################################################################################################
#
# API endpoints.
#
###################################################################################################

# Session specific API
POST    /api/login                                    com.yugabyte.yw.controllers.SessionController.login()
GET     /api/logout                                   com.yugabyte.yw.controllers.SessionController.logout()
POST    /api/register                                 com.yugabyte.yw.controllers.SessionController.register()

# Cloud provider API
GET     /api/providers                                com.yugabyte.yw.controllers.CloudProviderController.list()
POST    /api/providers                                com.yugabyte.yw.controllers.CloudProviderController.create()
POST    /api/providers/onprem                         com.yugabyte.yw.controllers.CloudProviderController.setupOnPrem()
GET     /api/regions                                  com.yugabyte.yw.controllers.RegionController.listAllRegions()
GET     /api/providers/:pUUID/regions                 com.yugabyte.yw.controllers.RegionController.list(pUUID: java.util.UUID)
POST    /api/providers/:pUUID/regions                 com.yugabyte.yw.controllers.RegionController.create(pUUID: java.util.UUID)
DELETE  /api/providers/:pUUID/regions/:rUUID          com.yugabyte.yw.controllers.RegionController.delete(pUUID: java.util.UUID, rUUID: java.util.UUID)
GET     /api/providers/:pUUID/regions/:rUUID/zones    com.yugabyte.yw.controllers.AvailabilityZoneController.list(pUUID: java.util.UUID, rUUID: java.util.UUID)
POST    /api/providers/:pUUID/regions/:rUUID/zones    com.yugabyte.yw.controllers.AvailabilityZoneController.create(pUUID: java.util.UUID, rUUID: java.util.UUID)
DELETE  /api/providers/:pUUID/regions/:rUUID/zones/:azUUID  com.yugabyte.yw.controllers.AvailabilityZoneController.delete(pUUID: java.util.UUID, rUUID: java.util.UUID, azUUID: java.util.UUID)
GET     /api/providers/:pUUID/instance_types/:code    com.yugabyte.yw.controllers.InstanceTypeController.index(pUUID: java.util.UUID, code: java.lang.String)
GET     /api/providers/:pUUID/instance_types          com.yugabyte.yw.controllers.InstanceTypeController.list(pUUID: java.util.UUID)
POST    /api/providers/:pUUID/instance_types          com.yugabyte.yw.controllers.InstanceTypeController.create(pUUID: java.util.UUID)
DELETE  /api/providers/:pUUID/instance_types/:code    com.yugabyte.yw.controllers.InstanceTypeController.delete(pUUID: java.util.UUID, code: java.lang.String)


# Customer profile API
GET     /api/customers/:cUUID                         com.yugabyte.yw.controllers.CustomerController.index(cUUID: java.util.UUID)
PUT     /api/customers/:cUUID                         com.yugabyte.yw.controllers.CustomerController.update(cUUID: java.util.UUID)
DELETE  /api/customers/:cUUID                         com.yugabyte.yw.controllers.CustomerController.delete(cUUID: java.util.UUID)
POST    /api/customers/:cUUID/metrics                 com.yugabyte.yw.controllers.CustomerController.metrics(cUUID: java.util.UUID)

# Access Key API
GET     /api/customers/:cUUID/providers/:pUUID/access_keys/:keyCode    com.yugabyte.yw.controllers.AccessKeyController.index(cUUID: java.util.UUID, pUUID: java.util.UUID, keyCode: java.lang.String)
GET     /api/customers/:cUUID/providers/:pUUID/access_keys             com.yugabyte.yw.controllers.AccessKeyController.list(cUUID: java.util.UUID, pUUID: java.util.UUID)
POST    /api/customers/:cUUID/providers/:pUUID/access_keys             com.yugabyte.yw.controllers.AccessKeyController.create(cUUID: java.util.UUID, pUUID: java.util.UUID)
DELETE  /api/customers/:cUUID/providers/:pUUID/access_keys/:keyCode    com.yugabyte.yw.controllers.AccessKeyController.delete(cUUID: java.util.UUID, pUUID: java.util.UUID, keyCode: java.lang.String)
PUT     /api/customers/:cUUID/providers/:pUUID/access_keys/:keyCode    com.yugabyte.yw.controllers.AccessKeyController.update(cUUID: java.util.UUID, pUUID: java.util.UUID, keyCode: java.lang.String)

# Universe, table, etc management API
POST    /api/customers/:cUUID/universes                   com.yugabyte.yw.controllers.UniverseController.create(cUUID: java.util.UUID)
POST    /api/customers/:cUUID/universe_configure          com.yugabyte.yw.controllers.UniverseController.configure(cUUID: java.util.UUID)
POST    /api/customers/:cUUID/universe_resources          com.yugabyte.yw.controllers.UniverseController.getUniverseResources(cUUID: java.util.UUID)
PUT     /api/customers/:cUUID/universes/:uniUUID          com.yugabyte.yw.controllers.UniverseController.update(cUUID: java.util.UUID, uniUUID: java.util.UUID)
GET     /api/customers/:cUUID/universes                   com.yugabyte.yw.controllers.UniverseController.list(cUUID: java.util.UUID)
GET     /api/customers/:cUUID/universes/:uniUUID          com.yugabyte.yw.controllers.UniverseController.index(cUUID: java.util.UUID, uniUUID: java.util.UUID)
DELETE  /api/customers/:cUUID/universes/:uniUUID          com.yugabyte.yw.controllers.UniverseController.destroy(cUUID: java.util.UUID, uniUUID: java.util.UUID)
GET     /api/customers/:cUUID/universes/:uniUUID/cost     com.yugabyte.yw.controllers.UniverseController.universeCost(cUUID: java.util.UUID, uniUUID: java.util.UUID)
GET     /api/customers/:cUUID/universes/:uniUUID/masters  com.yugabyte.yw.controllers.MetaMasterController.getMasterAddresses(cUUID: java.util.UUID, uniUUID: java.util.UUID)
GET     /api/customers/:cUUID/universes/:uniUUID/yqlservers  com.yugabyte.yw.controllers.MetaMasterController.getYQLServerAddresses(cUUID: java.util.UUID, uniUUID: java.util.UUID)
GET     /api/customers/:cUUID/universes/:uniUUID/redisservers  com.yugabyte.yw.controllers.MetaMasterController.getRedisServerAddresses(cUUID: java.util.UUID, uniUUID: java.util.UUID)
POST    /api/customers/:cUUID/universes/:uniUUID/upgrade  com.yugabyte.yw.controllers.UniverseController.upgrade(cUUID: java.util.UUID, uniUUID: java.util.UUID)
GET     /api/customers/:cUUID/universes/find/:universeName  com.yugabyte.yw.controllers.UniverseController.findByName(cUUID: java.util.UUID, universeName: String)
GET     /api/customers/:cUUID/cost                        com.yugabyte.yw.controllers.UniverseController.universeListCost(cUUID: java.util.UUID)

# Table Management API
GET     /api/:cUUID/universes/:uniUUID/tables             com.yugabyte.yw.controllers.TablesController.universeList(cUUID: java.util.UUID, uniUUID: java.util.UUID)
POST    /api/:cUUID/universes/:uniUUID/tables             com.yugabyte.yw.controllers.TablesController.create(cUUID: java.util.UUID, uniUUID: java.util.UUID)
GET     /api/:cUUID/universes/:uniUUID/tables/:tableUUID  com.yugabyte.yw.controllers.TablesController.describe(cUUID: java.util.UUID, uniUUID: java.util.UUID, tableUUID: java.util.UUID)
PUT     /api/:cUUID/universes/:uniUUID/tables/:tableUUID  com.yugabyte.yw.controllers.TablesController.alter(cUUID: java.util.UUID, uniUUID: java.util.UUID, tableUUID: java.util.UUID)
DELETE  /api/:cUUID/universes/:uniUUID/tables/:tableUUID  com.yugabyte.yw.controllers.TablesController.drop(cUUID: java.util.UUID, uniUUID: java.util.UUID, tableUUID: java.util.UUID)

# Task History API
GET    /api/customers/:cUUID/tasks                    com.yugabyte.yw.controllers.CustomerTaskController.list(cUUID: java.util.UUID)
GET    /api/customers/:cUUID/tasks/:tUUID             com.yugabyte.yw.controllers.CustomerTaskController.status(cUUID: java.util.UUID, tUUID: java.util.UUID)
GET    /api/customers/:cUUID/universes/:uniUUID/tasks com.yugabyte.yw.controllers.CustomerTaskController.universeTasks(cUUID: java.util.UUID, uniUUID: java.util.UUID)

# Initialize cloud information.
GET    /clouds/aws/initialize                         com.yugabyte.yw.cloud.AWSInitializer.run()

# Metadata API
GET    /api/metadata/column_types                     com.yugabyte.yw.controllers.TablesController.getColumnTypes()

###################################################################################################
#
# MetaMaster endpoints.
#
###################################################################################################

# Returns the list of masters for a given instance.
GET     /metamaster/universe/:universeUUID            com.yugabyte.yw.controllers.MetaMasterController.get(universeUUID: java.util.UUID)


###################################################################################################
#
# Static resources.
#
###################################################################################################

# Map static resources from the /public folder to the /assets URL path
GET     /*file                                 controllers.Assets.versioned(path="/public", file: Asset)
